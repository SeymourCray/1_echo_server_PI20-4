<!----- Conversion time: 1.019 seconds.


Using this Markdown file:

1. Cut and paste this output into your source file.
2. See the notes and action items below regarding this conversion run.
3. Check the rendered output (headings, lists, code blocks, tables) for proper
   formatting and use a linkchecker before you publish this page.

Conversion notes:

* Docs to Markdown version 1.0β17
* Wed Sep 18 2019 01:22:59 GMT-0700 (PDT)
* Source doc: https://docs.google.com/open?id=13Bwj-zrzPHWxDyeuZUzSwTNSqtZj9FI-spwD9tnhUTA
----->


## Практикум

### Цель работы

Познакомиться с приемами работы с сетевыми сокетами в языке программирования Python.

### Контрольные вопросы

1. Чем отличаются клиентские и серверные сокеты?Клиентские сокеты грубо можно сравнить с конечными аппаратами телефонной сети, а серверные — с коммутаторами. Клиентское приложение (например, браузер) использует только клиентские сокеты, а серверное (например, веб-сервер, которому браузер посылает запросы) — как клиентские, так и серверные сокеты.
2. Как можно передавать через сокеты текстовую информацию?С помощью преобразования текстовый переменных в байты или массив байтов.
3. Какие операции с сокетами блокируют выполнение программы?Операция ввода, выходная отправки, принять соединение, операция исходящего соединения.
4. Что такое неблокирующие сокеты?В случае неблокирующих сокетов функция чтения проверяет, есть ли данные в буфере, и если есть - сразу возвращает, если нет, то она не ждет и также сразу возвращает, что прочитано 0 байт.
5. В чем преимущества и недостатки использования TCP по сравнению с UDP?Протокол TCP (Transmission Control Protocol) – это сетевой протокол, который «заточен» под соединение. Иными словами, прежде, чем начать обмен данными, данному протоколу требуется установить соединение между двумя хостами. Данный протокол имеет высокую надежность, поскольку позволяет не терять данные при передаче, запрашивает подтверждения о получении от принимающей стороны и в случае необходимости отправляет данные повторно. При этом отправляемые пакеты данных сохраняют порядок отправки, то есть можно сказать, что передача данных упорядочена. Минусом данного протокола является относительно низкая скорость передачи данных, за счет того что выполнение надежной и упорядоченной передачи занимает больше времени, чем в альтернативном протоколе UDP.

Протокол UDP (User Datagram Protocol), в свою очередь, более прост. Для передачи данных ему не обязательно устанавливать соединение между отправителем и получателем. Информация передается без предварительной проверки готовности принимающей стороны. Это делает протокол менее надежным – при передаче некоторые фрагменты данных могут теряться. Кроме того, упорядоченность данных не соблюдается – возможен непоследовательный прием данных получателем. Зато скорость передачи данных по данному транспортному протоколу будет более высокой.
6. Какие системные вызовы, связанные с сокетами используются только на стороне сервера? socket, bind, listen, accept.
7. На каком уровне модели OSI работают сокеты?Когда мы создаем сокет (socket - гнездо), мы получаем возможность доступа к нужному нам уровню OSI. Ну а дальше мы можем использовать соответствующие вызовы для взаимодействия с ним. Сокеты устроены таким образом, что они могут взаимодействовать с ОС на любом уровне OSI, скрывая ту часть реализации, которой мы не интересуемся.

### Задания для самостоятельного выполнения

1. Модифицируйте код сервера таким образом, чтобы при разрыве соединения клиентом он продолжал слушать данный порт и, таким образом, был доступен для повторного подключения.![image](https://user-images.githubusercontent.com/70951761/139717821-bca02d68-1617-4a78-98cd-13eceef71e16.png)

2. Модифицируйте код клиента и сервера таким образом, чтобы номер порта и имя хоста (для клиента) они спрашивали у пользователя. Реализовать безопасный ввод данных и значения по умолчанию.![image](https://user-images.githubusercontent.com/70951761/139717889-dcceb086-bdcf-4783-bf17-03dc89c54f82.png)
![image](https://user-images.githubusercontent.com/70951761/139717917-81ccf38a-c086-4de8-96f3-8d3f6764ecc7.png)
![image](https://user-images.githubusercontent.com/70951761/139717990-4f1c8d72-0e4a-4129-b703-bb209d862573.png)

3. Модифицировать код сервера таким образом, чтобы все служебные сообщения выводились не в консоль, а в специальный лог-файл.![image](https://user-images.githubusercontent.com/70951761/139718039-0e0dd264-f54c-45bf-940e-bd0624b119d0.png)

4. Модифицируйте код сервера таким образом, чтобы он автоматически изменял номер порта, если он уже занят. Сервер должен выводить в консоль номер порта, который он слушает.![image](https://user-images.githubusercontent.com/70951761/139718081-c6ac1ec4-5734-4dd5-ab9b-beb38266f800.png)
![image](https://user-images.githubusercontent.com/70951761/139718174-d2876f77-31e4-4809-b21e-720562ef58db.png)

5. Реализовать сервер идентификации. Сервер должен принимать соединения от клиента и проверять, известен ли ему уже этот клиент (по IP-адресу). Если известен, то поприветствовать его по имени. Если неизвестен, то запросить у пользователя имя и записать его в файл. Файл хранить в произвольном формате.![image](https://user-images.githubusercontent.com/70951761/139718252-aa2f6eb8-70f5-4b8b-97f1-d52719c28f21.png)
![image](https://user-images.githubusercontent.com/70951761/139718305-635aa6ba-ed35-41a5-bca0-87a3897377cf.png)

6. Реализовать сервер аутентификации. Похоже на предыдущее задание, но вместе с именем пользователя сервер отслеживает и проверяет пароли. Дополнительные баллы за безопасное хранение паролей. Дополнительные баллы за поддержание сессии на основе токена наподобие cookies![image](https://user-images.githubusercontent.com/70951761/139718363-1233edee-82ba-4c80-a77a-db2985284af6.png)
![image](https://user-images.githubusercontent.com/70951761/139718394-0e87281e-4a77-478b-95a8-815b09b99ff3.png)

7. Напишите вспомогательные функции, которые реализуют отправку и принятие текстовых сообщений в сокет. Функция отправки должна дополнять сообщение заголовком фиксированной длины, в котором содержится информация о длине сообщения. Функция принятия должна читать сообщение с учетом заголовка. В дополнении реализуйте преобразование строки в байтовый массив и обратно в этих же функциях. Дополнително оценивается, если эти функции будут реализованы как унаследованное расширение класса socket библиотеки socket.![image](https://user-images.githubusercontent.com/70951761/139718465-86f2784c-6dd9-45dc-9531-ddfbc075a4d0.png)
![image](https://user-images.githubusercontent.com/70951761/139718577-9cb4aa3e-9d4a-45ea-8863-a7abbfafe698.png)

8. Дополните код клиента и сервера таким образом, чтобы они могли посылать друг другу множественные сообщения один в ответ на другое.
![image](https://user-images.githubusercontent.com/70951761/139718887-23439dfd-847e-404f-b13a-84d559aa3b4c.png)


<!-- Docs to Markdown version 1.0β17 -->
